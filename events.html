<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Department Events</title>
  <style>
    body {
      font-family: "Poppins", sans-serif;
      background-color: #f0f4fa;
      margin: 0;
      padding: 0;
    }

    h1 {
      text-align: center;
      background: #004aad;
      color: white;
      padding: 20px;
      margin: 0;
      font-size: 26px;
      letter-spacing: 1px;
    }

    .department {
      background: #ffffff;
      margin: 20px auto;
      width: 90%;
      max-width: 900px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      padding: 20px;
    }

    h2 {
      color: #004aad;
      border-left: 5px solid #004aad;
      padding-left: 10px;
      font-size: 20px;
    }

    .event-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }

    img{
      width: 100%;
      height: auto;
    }

    /* This is now the button style */
    .event-btn {
      flex: 1 1 calc(50% - 10px);
      text-decoration: none;
      background: #e3f2fd;
      color: #004aad;
      padding: 12px;
      text-align: center;
      border-radius: 8px;
      font-weight: 500;
      transition: 0.3s;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
      cursor: pointer;
      border: none;
      font-size: 15px;
    }

    .event-btn:hover {
      background: #004aad;
      color: white;
      transform: translateY(-3px);
    }

    @media (max-width: 600px) {
      .event-btn {
        flex: 1 1 100%;
      }
    }

    /* --- Modal Styles --- */

    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal-content {
      background: #f0f4fa;
      padding: 20px;
      border-radius: 12px;
      width: 90%;
      max-width: 400px;
      position: relative;
      box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    }

    .modal-close {
      position: absolute;
      top: 10px;
      right: 20px;
      font-size: 28px;
      font-weight: bold;
      color: #888;
      cursor: pointer;
    }
    .modal-close:hover {
      color: #333;
    }

    /* Card style for modal content */
    .event-card {
      background: #ffffff;
      border-radius: 12px;
      padding: 20px;
      display: flex;
      flex-direction: column;
    }

    .event-card h2 { /* Venue */
      color: #004aad;
      font-size: 20px;
      margin: 4px 0;
    }

    .event-card h3 { /* Dept/Event & Directions */
      color: #333;
      font-size: 16px;
      font-weight: 600;
      margin: 10px 0 2px 0;
    }

    .event-card h3.direction { /* Direction steps */
      color: #555;
      font-weight: 400;
      font-size: 15px;
      margin: 2px 0 2px 15px;
      position: relative;
    }

    .event-card h3.direction::before {
      content: 'â€¢';
      position: absolute;
      left: -15px;
      color: #004aad;
    }
    
    .event-card .btn.map {
      text-decoration: none;
      background: #004aad;
      color: white;
      padding: 10px 15px;
      text-align: center;
      border-radius: 8px;
      font-weight: 500;
      transition: 0.3s;
      margin-top: 15px; /* Pushes button to bottom */
    }

    .event-card .btn.map:hover {
      background: #003a8c;
    }

  </style>
</head>
<body>
  <img src="logo3.png" alt="">
  <h1>Department Events</h1>
  

  <!-- CSE -->
  <div class="department">
    <h2>CSE</h2>
    <div class="event-buttons">
      <button class="event-btn" data-event-key="cse-paper">Paper Presentation - LH18</button>
      <button class="event-btn" data-event-key="cse-brain">Brain Bytes - LH16</button>
      <button class="event-btn" data-event-key="cse-algo">Algorithm Design - CADD LAB</button>
      <button class="event-btn" data-event-key="cse-code">Code Debugging - CADD LAB</button>
      <button class="event-btn" data-event-key="cse-poster">Poster Presentation - LH17</button>
    </div>
  </div>

  <!-- AI & DS -->
  <div class="department">
    <h2>AI & DS</h2>
    <div class="event-buttons">
      <button class="event-btn" data-event-key="aids-idea">Idea Sphere - LH 12</button>
      <button class="event-btn" data-event-key="aids-neuro">Neuro Nexus - Delta Lab</button>
      <button class="event-btn" data-event-key="aids-prompt">Promptopia - Zeta Lab</button>
      <button class="event-btn" data-event-key="aids-dust">Dust2Data - Zeta Lab</button>
      <button class="event-btn" data-event-key="aids-aidea">AIdea - LH 03</button>
    </div>
  </div>

  <!-- IT & Cyber Security -->
  <div class="department">
    <h2>IT & Cyber Security</h2>
    <div class="event-buttons">
      <button class="event-btn" data-event-key="it-paper">Paper & Poster Presentation - Alpha LAB</button>
      <button class="event-btn" data-event-key="it-code">Code Debugging & Remix with Figma - Beta Lab</button>
      <button class="event-btn" data-event-key="it-expo">Project Expo - LH13</button>
    </div>
  </div>

  <!-- EEE -->
  <div class="department">
    <h2>EEE</h2>
    <div class="event-buttons">
      <button class="event-btn" data-event-key="eee-paper">Paper Presentation - LH22</button>
      <button class="event-btn" data-event-key="eee-expo">Project Expo - Machines Lab</button>
      <button class="event-btn" data-event-key="eee-design">Circuit Designing - EDC Lab</button>
      <button class="event-btn" data-event-key="eee-debug">Circuit Debugging - EDC Lab</button>
      <button class="event-btn" data-event-key="eee-quiz">Technical Quiz - LH23</button>
      <button class="event-btn" data-event-key="eee-lyrics">Lyrics Coding - LH22</button>
      <button class="event-btn" data-event-key="eee-act">Act it Out - LH22</button>
    </div>
  </div>

  <!-- ECE -->
  <div class="department">
    <h2>ECE</h2>
    <div class="event-buttons">
      <button class="event-btn" data-event-key="ece-paper">Paper Presentation - LH08, LH09</button>
      <button class="event-btn" data-event-key="ece-expo">Project Expo - LIC Lab</button>
      <button class="event-btn" data-event-key="ece-debug">Circuit Debugging - MPMC LAB</button>
      <button class="event-btn" data-event-key="ece-startup">Startup Pitching - LH10</button>
      <button class="event-btn" data-event-key="ece-rebus">Picture Rebus - Circuits Lab</button>
    </div>
  </div>

  <!-- S&H -->
  <div class="department">
    <h2>S&H</h2>
    <div class="event-buttons">
      <button class="event-btn" data-event-key="sh-paper">Paper Presentation - LH04</button>
      <button class="event-btn" data-event-key="sh-poster">Poster Presentation - LH01</button>
      <button class="event-btn" data-event-key="sh-master">Master Mind - LH02</button>
      <button class="event-btn" data-event-key="sh-math">Math Puzzles & Logic - LH02</button>
    </div>
  </div>

  <!-- MECH -->
  <div class="department">
    <h2>MECH</h2>
    <div class="event-buttons">
      <button class="event-btn" data-event-key="mech-cad">CAD Modeling - ALPHA LAB</button>
    </div>
  </div>

  <!-- --- MODAL --- -->
  <div id="direction-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <span id="modal-close-btn" class="modal-close">&times;</span>
      <div id="modal-body" class="event-card">
        <!-- Content will be injected by JavaScript -->
      </div>
    </div>
  </div>

  <script>
    // --- Store all event direction data ---
    const eventDirections = {
      // CSE
      'cse-paper': {
        title: 'CSE - Paper Presentation',
        venue: 'LH 18 (Floor 2)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Climb stairs (F2)',
          'Turn right',
          'Go straight along the corridor',
          'Turn left',
          'Go straight, destination on right'
        ],
        mapLink: 'two.html?venue=LH18'
      },
      'cse-brain': {
        title: 'CSE - Brain Bytes',
        venue: 'LH 16 (Floor 2)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Climb stairs (F2)',
          'Turn right',
          'Go straight along the corridor',
          'Turn left',
          'Go straight, destination on right'
        ],
        mapLink: 'two.html?venue=LH16'
      },
      'cse-algo': {
        title: 'CSE - Algorithm Design',
        venue: 'CADD LAB (Floor 2)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Climb stairs (F2)',
          'Turn left',
          'Go straight, destination on left'
        ],
        mapLink: 'two.html?venue=CADD LAB'
      },
      'cse-code': {
        title: 'CSE - Code Debugging',
        venue: 'CADD LAB (Floor 2)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Climb stairs (F2)',
          'Turn left',
          'Go straight, destination on left'
        ],
        mapLink: 'two.html?venue=CADD LAB'
      },
      'cse-poster': {
        title: 'CSE - Poster Presentation',
        venue: 'LH 17 (Floor 2)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Climb stairs (F2)',
          'Turn right',
          'Go straight along the corridor',
          'Turn left',
          'Go straight, destination on right'
        ],
        mapLink: 'two.html?venue=LH17'
      },

      // AI & DS
      'aids-idea': {
        title: 'AI&DS - Idea Sphere',
        venue: 'LH 12 (Floor 1)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Turn right',
          'Go straight along the corridor',
          'Turn left',
          'Go straight, destination on right'
        ],
        mapLink: 'one.html?venue=LH 12'
      },
      'aids-neuro': {
        title: 'AI&DS - Neuro Nexus',
        venue: 'Delta Lab (Floor 2)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Climb stairs (F2)',
          'Turn left',
          'Go straight, destination on left'
        ],
        mapLink: 'two.html?venue=Delta Lab'
      },
      'aids-prompt': {
        title: 'AI&DS - Promptopia',
        venue: 'Zeta Lab (Floor 2)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Climb stairs (F2)',
          'Turn left',
          'Go straight, destination on left'
        ],
        mapLink: 'two.html?venue=Zeta Lab'
      },
      'aids-dust': {
        title: 'AI&DS - Dust2Data',
        venue: 'Zeta Lab (Floor 2)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Climb stairs (F2)',
          'Turn left',
          'Go straight, destination on left'
        ],
        mapLink: 'two.html?venue=Zeta Lab'
      },
      'aids-aidea': {
        title: 'AI&DS - AIdea',
        venue: 'LH 03 (Ground Floor)',
        steps: [
          'Start at Registration Gate',
          'Go straight to the main corridor',
          'Turn right',
          'Go straight, then turn left',
          'Go straight, destination on right'
        ],
        mapLink: 'Ground.html?venue=LH 03'
      },

      // IT
      'it-paper': {
        title: 'IT - Paper & Poster Presentation',
        venue: 'Alpha LAB (Floor 1)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Turn left',
          'Go straight, destination on left'
        ],
        mapLink: 'one.html?venue=Alpha LAB'
      },
      'it-code': {
        title: 'IT - Code Debugging & Figma',
        venue: 'Beta Lab (Floor 1)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Turn left',
          'Go straight, destination on left'
        ],
        mapLink: 'one.html?venue=Beta lab'
      },
      'it-expo': {
        title: 'IT - Project Expo',
        venue: 'LH13 (Floor 1)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Turn right',
          'Go straight, destination on left'
        ],
        mapLink: 'one.html?venue=LH13'
      },

      // EEE
      'eee-paper': {
        title: 'EEE - Paper Presentation',
        venue: 'LH22 (Floor 2)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Climb stairs (F2)',
          'Turn right',
          'Go straight, destination on left'
        ],
        mapLink: 'two.html?venue=LH22'
      },
      'eee-expo': {
        title: 'EEE - Project Expo',
        venue: 'Machines Lab (Ground Floor)',
        steps: [
          'Start at Registration Gate',
          '(Venue not on map)',
          'Please ask a volunteer for directions'
        ],
        mapLink: 'Ground.html?venue=Machines lab'
      },
      'eee-design': {
        title: 'EEE - Circuit Designing',
        venue: 'EDC Lab (Floor 2)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Climb stairs (F2)',
          '(Venue not on map)',
          'Please ask a volunteer for directions'
        ],
        mapLink: 'two.html?venue=EDC lab'
      },
      'eee-debug': {
        title: 'EEE - Circuit Debugging',
        venue: 'EDC Lab (Floor 2)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Climb stairs (F2)',
          '(Venue not on map)',
          'Please ask a volunteer for directions'
        ],
        mapLink: 'two.html?venue=EDC lab'
      },
      'eee-quiz': {
        title: 'EEE - Technical Quiz',
        venue: 'LH23 (Floor 2)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Climb stairs (F2)',
          'Turn right',
          'Go straight, destination on left'
        ],
        mapLink: 'two.html?venue=LH23'
      },
      'eee-lyrics': {
        title: 'EEE - Lyrics Coding',
        venue: 'LH22 (Floor 2)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Climb stairs (F2)',
          'Turn right',
          'Go straight, destination on left'
        ],
        mapLink: 'two.html?venue=LH22'
      },
      'eee-act': {
        title: 'EEE - Act it Out',
        venue: 'LH22 (Floor 2)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Climb stairs (F2)',
          'Turn right',
          'Go straight, destination on left'
        ],
        mapLink: 'two.html?venue=LH22'
      },

      // ECE
      'ece-paper': {
        title: 'ECE - Paper Presentation',
        venue: 'LH08, LH09 (Floor 1)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Turn right',
          'Go straight along the corridor',
          'Turn left',
          'Go straight, destinations on right'
        ],
        mapLink: 'one.html?venue=LH08'
      },
      'ece-expo': {
        title: 'ECE - Project Expo',
        venue: 'LIC Lab (Floor 1)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Turn right',
          'Go straight along the corridor',
          'Turn left',
          'Turn right',
          'Go straight, destination on left'
        ],
        mapLink: 'one.html?venue=LIC lab'
      },
      'ece-debug': {
        title: 'ECE - Circuit Debugging',
        venue: 'MPMC LAB (Floor 1)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Turn right',
          'Go straight along the corridor',
          'Turn left',
          'Turn right',
          'Go straight, destination on left'
        ],
        mapLink: 'one.html?venue=MPMC LAB'
      },
      'ece-startup': {
        title: 'ECE - Startup Pitching',
        venue: 'LH10 (Floor 1)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Turn right',
          'Go straight along the corridor',
          'Turn left',
          'Go straight, destination on right'
        ],
        mapLink: 'one.html?venue=LH10'
      },
      'ece-rebus': {
        title: 'ECE - Picture Rebus',
        venue: 'Circuits Lab (Floor 1)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Turn right',
          'Go straight along the corridor',
          'Turn left',
          'Turn right',
          'Go straight, destination on left'
        ],
        mapLink: 'one.html?venue=circuits lab'
      },

      // S&H
      'sh-paper': {
        title: 'S&H - Paper Presentation',
        venue: 'LH04 (Ground Floor)',
        steps: [
          'Start at Registration Gate',
          'Go straight to the main corridor',
          'Turn right',
          'Go straight, then turn left',
          'Go straight, destination on right'
        ],
        mapLink: 'Ground.html?venue=LH04'
      },
      'sh-poster': {
        title: 'S&H - Poster Presentation',
        venue: 'LH01 (Ground Floor)',
        steps: [
          'Start at Registration Gate',
          'Go straight to the main corridor',
          'Turn right',
          'Go straight, then turn left',
          'Go straight, destination on right'
        ],
        mapLink: 'Ground.html?venue=LH01'
      },
      'sh-master': {
        title: 'S&H - Master Mind',
        venue: 'LH02 (Ground Floor)',
        steps: [
          'Start at Registration Gate',
          'Go straight to the main corridor',
          'Turn right',
          'Go straight, then turn left',
          'Go straight, destination on right'
        ],
        mapLink: 'Ground.html?venue=LH02'
      },
      'sh-math': {
        title: 'S&H - Math Puzzles & Logic',
        venue: 'LH02 (Ground Floor)',
        steps: [
          'Start at Registration Gate',
          'Go straight to the main corridor',
          'Turn right',
          'Go straight, then turn left',
          'Go straight, destination on right'
        ],
        mapLink: 'Ground.html?venue=LH02'
      },

      // MECH
      'mech-cad': {
        title: 'MECH - CAD Modeling',
        venue: 'ALPHA LAB (Floor 1)',
        steps: [
          'Turn left, climb up by stairs (F1)',
          'Turn left',
          'Go straight, destination on left'
        ],
        mapLink: 'one.html?venue=ALPHA LAB'
      }
    };

    // --- Modal Logic ---
    const modal = document.getElementById('direction-modal');
    const modalBody = document.getElementById('modal-body');
    const closeModalBtn = document.getElementById('modal-close-btn');

    /**
     * Speaks the given text using the Web Speech API.
     * @param {string} text The text to speak.
     */
    function speakDirections(text) {
      if ('speechSynthesis' in window) {
        window.speechSynthesis.cancel(); // Stop any previous speech
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'ta-IN';
        utterance.rate = 0.9; // Speak slightly slower for clarity
        window.speechSynthesis.speak(utterance);
      } else {
        console.warn('Speech Synthesis not supported in this browser.');
      }
    }

    function openModal(eventKey) {
      const data = eventDirections[eventKey];
      if (!data) return;

      // Build direction steps HTML
      let stepsHtml = '';
      data.steps.forEach(step => {
        stepsHtml += `<h3 class="direction">${step}</h3>`;
      });

      // Populate modal
      modalBody.innerHTML = `
        <h3>${data.title}</h3>
        <h2>${data.venue}</h2>
        ${stepsHtml}
        <a href="${data.mapLink}" target="_blank" class="btn map">View Map</a>
      `;

      // --- NEW: Construct and speak text ---
      let textToSpeak = `Event: ${data.title}. Venue: ${data.venue}. `;
      data.steps.forEach((step, index) => {
        // Clean up text like (F1) to "floor 1" for better speech
        const cleanStep = step.replace(/\(F(\d)\)/g, ', floor $1');
        textToSpeak += ` Step ${index + 1}: ${cleanStep}. `;
      });
      
      // Speak the directions
      speakDirections(textToSpeak);
      // --- END NEW ---

      // Show modal
      modal.style.display = 'flex';
    }

    function closeModal() {
      modal.style.display = 'none';
      if ('speechSynthesis' in window) {
         window.speechSynthesis.cancel(); // Stop speech on close
      }
    }

    // Add click listeners to all event buttons
    document.querySelectorAll('.event-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const key = e.target.dataset.eventKey;
        openModal(key);
      });
    });

    // Add close listeners
    closeModalBtn.addEventListener('click', closeModal);
    modal.addEventListener('click', (e) => {
      // Close if user clicks on the dark overlay
      if (e.target === modal) {
        closeModal();
      }
    });

  </script>
</body>
</html>

